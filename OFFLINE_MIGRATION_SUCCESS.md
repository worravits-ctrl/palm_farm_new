# ЁЯОЙ р╕кр╕│р╣Ар╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з: Migration р╕Ир╕▓р╕Б Gemini API р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ Offline Search

## тЬЕ р╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ

### 1. р╕Бр╕▓р╕гр╕ер╕Ъ Gemini AI Dependencies
- тЬЕ р╕ер╕Ъ `@google/generative-ai` р╕нр╕нр╕Бр╕Ир╕▓р╕Б package.json
- тЬЕ р╕ер╕Ъ import р╣Бр╕ер╕░ references р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Вр╕нр╕З Gemini API
- тЬЕ р╕ер╕Ър╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `parseThaiDate` р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Гр╕Кр╣Йр╣Бр╕ер╣Йр╕з
- тЬЕ р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч health check endpoints р╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕З "offline mode"

### 2. р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З Offline Search Engine
- тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `OfflineSearchEngine.js` 
- тЬЕ р╕гр╕░р╕Ър╕Ър╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╣Ар╕Бр╣Зр╕Ър╣Ар╕Бр╕╡р╣Ир╕вр╕з (harvest)
- тЬЕ р╕гр╕░р╕Ър╕Ър╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕╕р╣Лр╕в (fertilizer) 
- тЬЕ р╕гр╕░р╕Ър╕Ър╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Фр╣Йр╕зр╕в pattern matching
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Др╕│р╕Цр╕▓р╕бр╕ар╕▓р╕йр╕▓р╣Др╕Чр╕вр╕лр╕ер╕▓р╕Бр╕лр╕ер╕▓р╕вр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ

### 3. р╕Бр╕▓р╕гр╣Бр╕Чр╕Щр╕Чр╕╡р╣И Chat Endpoint
- тЬЕ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ `/api/chat` р╣Гр╕лр╣Йр╣Гр╕Кр╣Й OfflineSearchEngine
- тЬЕ р╕ер╕Фр╕Вр╕Щр╕▓р╕Фр╣Вр╕Др╣Йр╕Фр╕Ир╕▓р╕Б ~300 р╕Ър╕гр╕гр╕Чр╕▒р╕Ф р╣Ар╕лр╕ер╕╖р╕н ~20 р╕Ър╕гр╕гр╕Чр╕▒р╕Ф
- тЬЕ р╕ер╕Фр╕Др╕зр╕▓р╕бр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╣Бр╕ер╕░р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╣Гр╕Щр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З
- тЬЕ р╣Бр╕Бр╣Йр╣Др╕В bug р╣Гр╕Щр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Юр╕▓р╕гр╕▓р╕бр╕┤р╣Ар╕Хр╕нр╕гр╣М

### 4. р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ
- тЬЕ р╕Чр╕Фр╕кр╕нр╕Ъ OfflineSearchEngine р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╣Ар╕гр╕┤р╣Ир╕б API server р╕кр╕│р╣Ар╕гр╣Зр╕И (port 3001)
- тЬЕ р╣Ар╕гр╕┤р╣Ир╕б Frontend server р╕кр╕│р╣Ар╕гр╣Зр╕И (port 3000)
- тЬЕ р╕гр╕░р╕Ър╕Ъ login р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤
- тЬЕ р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Ар╕Ыр╣Зр╕Щ: admin@palmoil.com / admin

## ЁЯФН р╕гр╕░р╕Ър╕Ъ Offline Search Engine р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕б:

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╣Ар╕Бр╣Зр╕Ър╣Ар╕Бр╕╡р╣Ир╕вр╕з
- "р╕гр╕▓р╕вр╣Др╕Фр╣Йр╣Ар╕Фр╕╖р╕нр╕Щр╕Щр╕╡р╣Й", "р╕гр╕▓р╕вр╣Др╕Фр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф"
- "р╕Бр╕│р╣Др╕гр╕кр╕╕р╕Чр╕Шр╕┤", "р╕Бр╕│р╣Др╕гр╣Ар╕Фр╕╖р╕нр╕Щр╕Щр╕╡р╣Й" 
- "р╣Ар╕Бр╣Зр╕Ър╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Др╕гр╕▒р╣Йр╕Зр╕ер╣Ир╕▓р╕кр╕╕р╕Фр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕лр╕гр╣И"
- "р╣Ар╕Бр╣Зр╕Ър╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Др╕гр╕▒р╣Йр╕Зр╕Хр╣Ир╕нр╣Др╕Ыр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕лр╕гр╣И"

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╣Йр╕Щр╕Ыр╕▓р╕ер╣Мр╕б
- "р╕Хр╣Йр╕Щр╣Др╕лр╕Щр╣Гр╕лр╣Йр╕Ьр╕ер╣Ар╕вр╕нр╕░р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф", "р╕Хр╣Йр╕Щр╕Чр╕╡р╣Ир╣Гр╕лр╣Йр╕Ьр╕ер╕Ьр╕ер╕┤р╕Хр╕кр╕╣р╕Зр╕кр╕╕р╕Ф"
- "A14 р╕Хр╕▒р╕Фр╣Др╕Ыр╣Бр╕ер╣Йр╕зр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И", "[р╕гр╕лр╕▒р╕кр╕Хр╣Йр╕Щ] р╣Ар╕Бр╣Зр╕Ър╣Ар╕Бр╕╡р╣Ир╕вр╕зр╣Бр╕ер╣Йр╕зр╕Бр╕╡р╣Ир╕Др╕гр╕▒р╣Йр╕З"

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕╕р╣Лр╕в  
- "р╣Гр╕кр╣Ир╕Ыр╕╕р╣Лр╕вр╕Др╕гр╕▒р╣Йр╕Зр╕ер╣Ир╕▓р╕кр╕╕р╕Ф", "р╕Ыр╕╕р╣Лр╕вр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕ер╣Ир╕▓р╕кр╕╕р╕Ф"
- "р╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕вр╕Ыр╕╕р╣Лр╕в", "р╣Гр╕Кр╣Йр╕Ыр╕╕р╣Лр╕вр╣Др╕Ыр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И"

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Ир╕зр╣Др╕Ы
- р╕Бр╕▓р╕гр╕Чр╕▒р╕Бр╕Чр╕▓р╕в: "р╕кр╕зр╕▒р╕кр╕Фр╕╡", "р╕Фр╕╡р╕Др╕гр╕▒р╕Ъ"  
- р╕зр╕▒р╕Щр╕Чр╕╡р╣И: "р╕зр╕▒р╕Щр╕Щр╕╡р╣Йр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И"
- р╕Др╕│р╕Цр╕▓р╕бр╕Чр╕▒р╣Ир╕зр╣Др╕Ы: "р╕Др╕╕р╕Ур╕Др╕╖р╕нр╣Гр╕Др╕г"

## ЁЯЪА р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ър╣Гр╕лр╕бр╣И

1. **р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Юр╕╢р╣Ир╕Зр╕Юр╕▓ External API**: р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й Gemini API Key
2. **р╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╕кр╕╣р╕З**: р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Ар╕гр╣Зр╕зр╕Бр╕зр╣Ир╕▓р╣Ар╕Фр╕┤р╕б р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕н API call
3. **р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Фр╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕в**: р╣Др╕бр╣Ир╕бр╕╡р╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕в API calls
4. **р╕Др╕зр╕▓р╕бр╕Щр╣Ир╕▓р╣Ар╕Кр╕╖р╣Ир╕нр╕Цр╕╖р╕н**: р╣Др╕бр╣Ир╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ rate limiting р╕лр╕гр╕╖р╕н API downtime
5. **р╕Др╕зр╕Ър╕Др╕╕р╕бр╣Др╕Фр╣Й**: р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╣Др╕Фр╣Йр╕Хр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
6. **р╕гр╕▒р╕Бр╕йр╕▓р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**: р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕нр╕нр╕Бр╕Щр╕нр╕Бр╕гр╕░р╕Ър╕Ъ

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

- тЬЕ `api-server.js` - р╕ер╕Ъ Gemini, р╣Ар╕Юр╕┤р╣Ир╕б OfflineSearchEngine
- тЬЕ `package.json` - р╕ер╕Ъ @google/generative-ai dependency  
- тЬЕ `OfflineSearchEngine.js` - р╣Др╕Яр╕ер╣Мр╣Гр╕лр╕бр╣Ир╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╣Йр╕Щр╕лр╕▓ offline
- тЬЕ `scripts/simple-passwords.js` - р╣Бр╕Бр╣Йр╣Др╕В bcrypt import
- тЬЕ Test files: `test-offline-chat.js`, `test-login-chat.js`

## ЁЯОп р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ

- тЬЕ **Frontend Server**: http://localhost:3000 (р╕Чр╕│р╕Зр╕▓р╕Щ)
- тЬЕ **API Server**: http://localhost:3001 (р╕Чр╕│р╕Зр╕▓р╕Щ)  
- тЬЕ **Database**: SQLite р╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤
- тЬЕ **Authentication**: Login р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й
- тЬЕ **Chat System**: р╣Гр╕Кр╣Й Offline Search Engine
- тЬЕ **р╣Др╕бр╣Ир╕бр╕╡ External Dependencies**: р╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Вр╕Фр╕вр╕нр╕┤р╕кр╕гр╕░

## ЁЯОК р╕Бр╕▓р╕г Migration р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щр╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М!

р╕гр╕░р╕Ър╕Ъ Palm Oil Management р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щ **100% Offline** р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Юр╕╢р╣Ир╕Зр╕Юр╕▓ Gemini API р╕лр╕гр╕╖р╕н external services р╕нр╕╖р╣Ир╕Щр╣Гр╕Фр╣Бр╕ер╣Йр╕з р╣Вр╕Фр╕вр╕вр╕▒р╕Зр╕Др╕Зр╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Щр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╣Бр╕ер╕░р╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕бр╕╡р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю